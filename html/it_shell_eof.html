<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Podman policy.json ãƒ¡ãƒ¢</title>
  <style>
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; line-height: 1.6; padding: 24px; max-width: 920px; margin: auto; }
    h1, h2, h3 { line-height: 1.25; }
    .box { background: #f6f8fa; border: 1px solid #d0d7de; border-radius: 8px; padding: 16px; margin: 16px 0; }
    pre { background: #0b1020; color: #e6edf3; padding: 16px; border-radius: 8px; overflow-x: auto; }
    code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; }
    .note { background: #fff8c5; border-left: 4px solid #f1c40f; padding: 12px; }
    .ok { background: #e6fffa; border-left: 4px solid #10b981; padding: 12px; }
    ul li { margin: 6px 0; }
  </style>
</head>
<body>
  <h1>Podman ã® <code>policy.json</code> ã‚’ heredocï¼ˆEOFï¼‰ã§ä½œã‚‹ãƒ¡ãƒ¢</h1>

  <p>Podmanï¼ˆç‰¹ã« NixOSï¼‰ã§ã¯ã€<strong>ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä¿¡é ¼ãƒãƒªã‚·ãƒ¼</strong>ã‚’ <code>policy.json</code> ã§æ˜ç¤ºã—ãªã„ã¨
  <code>podman build</code> / <code>podman pull</code> ãŒå¤±æ•—ã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚</p>

  <h2>ç›®çš„</h2>
  <div class="box">
    <ul>
      <li>Docker ã¨åŒã˜æ„Ÿè¦šã§ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚’é€²ã‚ãŸã„</li>
      <li>æ¯å›ã‚¨ãƒ©ãƒ¼ã«ãƒãƒã‚‰ãªã„ã‚ˆã†ã€è¨­å®šã‚’<strong>è¦šãˆã‚„ã™ãå¯è¦–åŒ–</strong></li>
    </ul>
  </div>

  <h2>ã‚„ã‚‹ã“ã¨ï¼ˆçµè«–ï¼‰</h2>
  <div class="ok">
    <p><code>~/.config/containers/policy.json</code> ã‚’ä½œæˆã—ã€<br />
    <strong>ã™ã¹ã¦ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è¨±å¯</strong>ã™ã‚‹è¨­å®šã‚’å…¥ã‚Œã‚‹ã€‚</p>
  </div>

  <h2>ã‚³ãƒãƒ³ãƒ‰ï¼ˆheredoc / EOFï¼‰</h2>
  <pre><code>mkdir -p ~/.config/containers
cat &lt;&lt;'EOF' &gt; ~/.config/containers/policy.json
{
  "default": [
    {
      "type": "insecureAcceptAnything"
    }
  ]
}
EOF
</code></pre>

  <h3>ãƒã‚¤ãƒ³ãƒˆ</h3>
  <ul>
    <li><code>&lt;&lt;'EOF'</code> â†’ <strong>ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆä»˜ã</strong>ã§å¤‰æ•°å±•é–‹ã‚’é˜²æ­¢</li>
    <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼å˜ä½ãªã®ã§ <code>sudo</code> ä¸è¦</li>
  </ul>

  <h2>ã“ã®è¨­å®šã®æ„å‘³</h2>
  <div class="note">
    <p><code>"type": "insecureAcceptAnything"</code> ã¯ï¼š</p>
    <ul>
      <li>ç½²åæ¤œè¨¼ã‚’ã—ãªã„</li>
      <li>ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä¿¡ç”¨ã™ã‚‹</li>
    </ul>
    <p>ï¼ <strong>Docker ã¨åŒã˜æŒ™å‹•</strong>ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ç”¨é€”å‘ã‘ï¼‰</p>
  </div>

  <h2>ç¢ºèª</h2>
  <pre><code>podman build -t add_subtitles_comp .</code></pre>

  <h2>è£œè¶³ï¼ˆæœ¬ç•ªç’°å¢ƒã§ã¯ï¼‰</h2>
  <ul>
    <li>æœ¬ç•ªã‚„å…¬é–‹ã‚µãƒ¼ãƒã§ã¯ç½²åä»˜ãã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã†</li>
    <li><code>insecureAcceptAnything</code> ã¯é¿ã‘ã‚‹</li>
  </ul>

  <hr />
  <p>ğŸ“ Git ç®¡ç†ç”¨ãƒ¡ãƒ¢ / å†ç™ºé˜²æ­¢ç”¨</p>
</body>
</html>
