<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>NixOS / Linux chown è½ã¨ã—ç©´ãƒ¡ãƒ¢</title>
<style>
  body {
    font-family: system-ui, sans-serif;
    line-height: 1.7;
    max-width: 900px;
    margin: 40px auto;
    padding: 0 20px;
    background: #f9fafb;
  }
  h1, h2 {
    border-bottom: 2px solid #ddd;
    padding-bottom: 4px;
  }
  button {
    margin: 10px 0;
    padding: 6px 12px;
    cursor: pointer;
  }
  .box {
    display: none;
    background: #fff;
    border-left: 4px solid #4f46e5;
    padding: 12px 16px;
    margin: 10px 0 20px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  }
  code {
    background: #eee;
    padding: 2px 5px;
    border-radius: 4px;
  }
  pre {
    background: #111;
    color: #0f0;
    padding: 12px;
    overflow-x: auto;
  }
</style>

<script>
function toggle(id) {
  const e = document.getElementById(id);
  e.style.display = (e.style.display === "none") ? "block" : "none";
}
</script>
</head>

<body>

<h1>Linux / NixOS ã§ã‚ˆãè½ã¡ã‚‹ç½ ï¼šchown ã¨ã‚°ãƒ«ãƒ¼ãƒ—</h1>

<p>
ç¾è±¡ï¼š<br>
<code>chown: invalid group: hoge:hoge</code>
</p>

<button onclick="toggle('why')">ãªãœèµ·ãã‚‹ï¼Ÿ</button>
<div class="box" id="why">
  <p>
    Linux ã® <code>chown</code> ã¯
  </p>
  <pre>chown ãƒ¦ãƒ¼ã‚¶:ã‚°ãƒ«ãƒ¼ãƒ— ãƒ•ã‚¡ã‚¤ãƒ«</pre>
  <p>
    ã¨ã„ã†å½¢å¼ã€‚<br>
    ã¤ã¾ã‚Š <b>ã€Œãƒ¦ãƒ¼ã‚¶åã€ã¨ã€Œã‚°ãƒ«ãƒ¼ãƒ—åã€ã¯åˆ¥ç‰©</b>ã€‚
  </p>
  <p>
    NixOS ã§ã¯å¤šãã®å ´åˆï¼š
  </p>
  <pre>
ãƒ¦ãƒ¼ã‚¶: hoge
ã‚°ãƒ«ãƒ¼ãƒ—: users
  </pre>
  <p>
    ğŸ‘‰ <code>hoge:hoge</code> ã¨ã„ã†ã‚°ãƒ«ãƒ¼ãƒ—ã¯å­˜åœ¨ã—ãªã„ã€‚
  </p>
</div>

<button onclick="toggle('check')">ç¢ºèªæ–¹æ³•</button>
<div class="box" id="check">
  <p>ãƒ¦ãƒ¼ã‚¶ã¨ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ç¢ºèªï¼š</p>
  <pre>id hoge</pre>
  <p>ä¾‹ï¼š</p>
  <pre>
uid=1000(hoge) gid=100(users) groups=100(users)
  </pre>
</div>

<button onclick="toggle('fix')">æ­£ã—ã„å¯¾å‡¦</button>
<div class="box" id="fix">
  <pre>
sudo chown hoge:users /etc/x11vnc.pass
sudo chmod 600 /etc/x11vnc.pass
  </pre>
</div>

<button onclick="toggle('context')">ãªãœæ··ä¹±ã—ã‚„ã™ã„ï¼Ÿ</button>
<div class="box" id="context">
  <ul>
    <li>Ubuntuç³»ã¯ã€Œãƒ¦ãƒ¼ã‚¶åï¼åŒåã‚°ãƒ«ãƒ¼ãƒ—ã€ãŒå¤šã„</li>
    <li>NixOS ã¯ã€Œusersã€ã‚°ãƒ«ãƒ¼ãƒ—æ–‡åŒ–</li>
    <li>systemd / ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè¡Œãƒ¦ãƒ¼ã‚¶ãŒçµ¡ã‚€</li>
  </ul>
  <p>
    ğŸ‘‰ çŸ¥è­˜ãŒç·šã§ã¤ãªãŒã£ã¦ãªã„ã¨ã€Œç†ç”±ä¸æ˜ã‚¨ãƒ©ãƒ¼ã€ã«è¦‹ãˆã‚‹
  </p>
</div>

<button onclick="toggle('lesson')">è¦šãˆæ–¹ï¼ˆçŸ­æ–‡ï¼‰</button>
<div class="box" id="lesson">
  <p>
    <b>Linux ã§ã¯ï¼š</b><br>
    ã€Œãƒ¦ãƒ¼ã‚¶ â‰  ã‚°ãƒ«ãƒ¼ãƒ—ã€<br>
    ã€ŒNixOS ã®åŸºæœ¬ã‚°ãƒ«ãƒ¼ãƒ—ã¯ usersã€
  </p>
</div>

<hr>

<p style="color:#555">
âœ” å†ç™ºã—ãŸã‚‰ã“ã®ãƒšãƒ¼ã‚¸ã‚’è¦‹ã‚‹<br>
âœ” ä»–ã®ç½ ã‚‚åŒã˜å½¢å¼ã§è¿½è¨˜ã—ã¦ã„ã
</p>

</body>
</html>

