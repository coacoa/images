<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="451px" preserveAspectRatio="none" style="width:967px;height:451px;background:#FFFFFF;" version="1.1" viewBox="0 0 967 451" width="967px" zoomAndPan="magnify"><title>Nixpkgs &#12395; Overlay &#12434;&#36969;&#29992;&#12377;&#12427;&#27969;&#12428;</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="250.6528" x="357.3491" y="27.9951">Nixpkgs &#12395; Overlay &#12434;&#36969;&#29992;&#12377;&#12427;&#27969;&#12428;</text><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="252.0625" width="8" x="19.9551" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="118.5938" y2="370.6563"/></g><g><title>NixOS</title><rect fill="#000000" fill-opacity="0.00000" height="252.0625" width="8" x="248.6036" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="251.9596" x2="251.9596" y1="118.5938" y2="370.6563"/></g><g><title>pkgs (Nixpkgs)</title><rect fill="#000000" fill-opacity="0.00000" height="252.0625" width="8" x="389.4332" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="393.2477" x2="393.2477" y1="118.5938" y2="370.6563"/></g><g><title>Overlay</title><rect fill="#000000" fill-opacity="0.00000" height="252.0625" width="8" x="639.1751" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="642.5272" x2="642.5272" y1="118.5938" y2="370.6563"/></g><g><title>&#26368;&#32066;&#30340;&#12394;</title><rect fill="#000000" fill-opacity="0.00000" height="252.0625" width="8" x="877.7362" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="881.1214" x2="881.1214" y1="118.5938" y2="370.6563"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="115.292">User</text><ellipse cx="23.9551" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,58.7969 L23.9551,85.7969 M10.9551,66.7969 L36.9551,66.7969 M23.9551,85.7969 L10.9551,100.7969 M23.9551,85.7969 L36.9551,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="382.6514">User</text><ellipse cx="23.9551" cy="394.4531" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,402.4531 L23.9551,429.4531 M10.9551,410.4531 L36.9551,410.4531 M23.9551,429.4531 L10.9551,444.4531 M23.9551,429.4531 L36.9551,444.4531" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Config"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.2881" x="180.9596" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.5537" x="231.3268" y="90.9951">NixOS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.2881" x="187.9596" y="107.292">(configuration.nix)</text></g><g class="participant participant-tail" data-participant="Config"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.2881" x="180.9596" y="369.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.5537" x="231.3268" y="389.6514">NixOS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.2881" x="187.9596" y="405.9482">(configuration.nix)</text></g><g class="participant participant-head" data-participant="Pkgs"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.3711" x="334.2477" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.3711" x="341.2477" y="107.292">pkgs (Nixpkgs)</text></g><g class="participant participant-tail" data-participant="Pkgs"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.3711" x="334.2477" y="369.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.3711" x="341.2477" y="389.6514">pkgs (Nixpkgs)</text></g><g class="participant participant-head" data-participant="Overlay"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.2959" x="573.5272" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.4277" x="615.9612" y="90.9951">Overlay</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.2959" x="580.5272" y="107.292">(custom override)</text></g><g class="participant participant-tail" data-participant="Overlay"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.2959" x="573.5272" y="369.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.4277" x="615.9612" y="389.6514">Overlay</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.2959" x="580.5272" y="405.9482">(custom override)</text></g><g class="participant participant-head" data-participant="FinalPkgs"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159.2295" x="802.1214" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.9998" x="853.7363" y="90.9951">&#26368;&#32066;&#30340;&#12394;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.2295" x="809.1214" y="107.292">pkgs.st or pkgs.dwm</text></g><g class="participant participant-tail" data-participant="FinalPkgs"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159.2295" x="802.1214" y="369.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.9998" x="853.7363" y="389.6514">&#26368;&#32066;&#30340;&#12394;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.2295" x="809.1214" y="405.9482">pkgs.st or pkgs.dwm</text></g><g class="message" data-participant-1="User" data-participant-2="Config"><polygon fill="#181818" points="240.6036,160.8594,250.6036,164.8594,240.6036,168.8594,244.6036,164.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="23.9551" x2="246.6036" y1="164.8594" y2="164.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.6485" x="30.9551" y="144.6606">&#23450;&#32681;&#12434;&#26360;&#12367;&#65288;nixpkgs.overlays &#12395;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.6724" x="30.9551" y="159.7935">Overlay &#12434;&#25351;&#23450;&#65289;</text></g><g class="message" data-participant-1="Config" data-participant-2="Overlay"><polygon fill="#181818" points="631.1751,189.9922,641.1751,193.9922,631.1751,197.9922,635.1751,193.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="252.6036" x2="637.1751" y1="193.9922" y2="193.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.502" x="259.6036" y="188.9263">import ./overlays/suckless.nix</text></g><g class="message" data-participant-1="Overlay" data-participant-2="Pkgs"><polygon fill="#181818" points="404.4332,219.125,394.4332,223.125,404.4332,227.125,400.4332,223.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="398.4332" x2="642.1751" y1="223.125" y2="223.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.7419" x="410.4332" y="218.0591">super.st &#12394;&#12393;&#12398;&#20803;&#12398;&#12497;&#12483;&#12465;&#12540;&#12472;&#12434;&#21442;&#29031;</text></g><g class="message" data-participant-1="Overlay" data-participant-2="Overlay"><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="643.1751" x2="685.1751" y1="252.2578" y2="252.2578"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="685.1751" x2="685.1751" y1="252.2578" y2="265.2578"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="644.1751" x2="685.1751" y1="265.2578" y2="265.2578"/><polygon fill="#181818" points="654.1751,261.2578,644.1751,265.2578,654.1751,269.2578,650.1751,265.2578" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.5611" x="650.1751" y="247.1919">overrideAttrs / src / patches &#12434;&#25351;&#23450;</text></g><g class="message" data-participant-1="Overlay" data-participant-2="FinalPkgs"><polygon fill="#181818" points="869.7362,290.3906,879.7362,294.3906,869.7362,298.3906,873.7362,294.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="643.1751" x2="875.7362" y1="294.3906" y2="294.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.3273" x="650.1751" y="289.3247">&#12459;&#12473;&#12479;&#12512;&#12373;&#12428;&#12383; st / dwm &#12434;&#36820;&#12377;</text></g><g class="message" data-participant-1="Config" data-participant-2="FinalPkgs"><polygon fill="#181818" points="869.7362,319.5234,879.7362,323.5234,869.7362,327.5234,873.7362,323.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="252.6036" x2="875.7362" y1="323.5234" y2="323.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.8116" x="259.6036" y="318.4575">environment.systemPackages &#12391;&#20351;&#29992;</text></g><g class="message" data-participant-1="FinalPkgs" data-participant-2="User"><polygon fill="#181818" points="34.9551,348.6563,24.9551,352.6563,34.9551,356.6563,30.9551,352.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="28.9551" x2="880.7362" y1="352.6563" y2="352.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.0003" x="40.9551" y="347.5903">&#12497;&#12483;&#12481;&#12364;&#21453;&#26144;&#12373;&#12428;&#12383;&#12496;&#12452;&#12490;&#12522;&#12392;&#12375;&#12390;&#25552;&#20379;</text></g><!--SRC=[LPBBRXCn58RtVegZhig2oRuB98J4abP2xBAnfYPOoNX6jjFB3jjKt89IK17G8j55HGcLAh6er4gXUPZJpC2ghy2PIqYoiIpRt_d_y_jOQNi27icThDinWEuCrhU4xl5TGF_XhniL1p_GVK7_Dhzmw0UCyTYc6fuOeLd6jPMnpBYoi48brX-trMgSggUoqzVSobH5IkxSMG5ku45rl8nKagkDTlriWtRBZnexPUM-iMa2AHrekIbgeBbUPlAlpuiBNno-GFUphShgaR50jgljvdPIeG-buhrAa9NjmDrxZKjOW-dvON4zeWZoeqjqmzlnArNRZD9QiCgghHR2oWSlYReTlsPD5Qetkru3cMIfjX2rPdpBzEDkJnXJPiHc3uaf7H5W-fdGfMtg0Tq8tVbqBz2AuJs6WFuNXZ7wInAU3dsnTpeliQGxI-k-jTf02uoEQSsuZPy9CxUzQE1_BeIZFqD_XNw2uHZTHve0TD-0NBM0OYpvFvC36X2sqFGYBzIMrAbAXBAHsJLM91iyxl9EgUrERtvFQBuOcnEb-UepIBfkD3XqW-dmNVvvRW33FleJ36ymK3Oqe9_GVS-7-pVNH_y0]--></g></svg>